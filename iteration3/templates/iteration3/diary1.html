{% load static %}
    <head>
      <!-- BEGIN: Title -->
      <title>Diatastic &mdash; Easily Manage Blood Sugar</title>
      <!-- END: Title -->

      <!-- BEGIN: Meta -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- END: Meta -->

      <!-- BEGIN: Favicon -->
      <link rel="shortcut icon" href="/static/images/icons8-rh-plus-gradient-16.png">
      <!-- END: Favicon -->

      <!-- BEGIN: Stylesheets -->
        <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="/static/css/bootstrap/bootstrap.css">
      <link rel="stylesheet" href="/static/css/tiny-slider.css">
      <link rel="stylesheet" href="/static/fonts/lineicons/LineIcons.min.css">
      <link rel="stylesheet" href="/static/fonts/icomoon/style.css">
      <link rel="stylesheet" href="/static/css/animate.min.css">
      <link rel="stylesheet" href="/static/css/jquery.lavalamp.css">
      <link rel="stylesheet" href="/static/css/jquery.fancybox.min.css">
      <link rel="stylesheet" href="/static/css/style.css">
      <link rel="stylesheet" href="/static/css/select.css">
      <!-- END: Stylesheets -->

      <!-- BEGIN: help bot -->
          <!-- meta -->
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1">
        <meta name="keywords" content="pvr, pvr tech studio, css chat box, pvr admin, pvr tech admin"/>
        <meta name="description" content="PVR Tech Studio, We Design your Future.">
        <!-- Add Your favicon here -->
<!--        <link rel="icon" href="../static/assets/img/favicon/favicon-32x32.png">-->


        <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

        <!-- ***** Boostrap Custom / Addons Stylesheets ***** -->
        <link href="/static/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="/static/assets/plugins/material_icon/icon.css" rel="stylesheet"/>

        <!-- Required CSS file for CSS Chat Panels element -->
        <link href="/static/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.min.css" rel="stylesheet"/>
        <link rel="stylesheet" href="/static/assets/css/chat_box.css" type="text/css" media="all">
      <!--END: help bot -->

    </head>

    <body>

      <!-- PAGE HELP BOT -->
      <div class="container perfect_scrollbar" id="container">
          <div class="pvr_chat_button">
              <i class="material-icons">chat</i>
              <span>Help Bot</span>
          </div>
          <div class="pvr_chat_wrapper">
              <div class="pvr_chat_content">
                  <div class="close_chat">
                      <i class="material-icons">close</i>
                  </div>
                  <div class="chat_header">
                      <div class="pvr-user-w with-status status-green">
                          <div class="pvr-user-avatar-w">
                              <div class="user-avatar">
                                  <img alt="" src="/static/assets/img/avatar/default-avatar.jpg">
                              </div>
                          </div>
                          <div class="user-name">
                              <h6 class="user-title">
                                  <a href="#" target="_blank">Help Bot</a>
                              </h6>
                              <div class="user-role">
                                  Administrator
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="chat-messages theme_2">
                      <div class="message">
                          <div class="message-content">
                            Hi! I'm HelpBot. How can I help you today?
                          </div>
                      </div>
    <!--                  <div class="date-break">-->
    <!--                      Mon 10:20am-->
    <!--                  </div>-->
    <!--                  <div class="message">-->
    <!--                      <div class="message-content">-->
    <!--                        Healthy living starts with your daily diet.-->
    <!--                      </div>-->
    <!--                  </div>-->
    <!--                  <div class="message self">-->
    <!--                      <div class="message-content">-->
    <!--                        Healthy living starts with your daily diet.-->
    <!--                      </div>-->
    <!--                  </div>-->
                  </div>
                  <div class="chat-controls">
                      <input class="message-input" id="message-input" placeholder="Type your message here..." type="text">
                      <div class="chat-extra">
    <!--                      <a href="javascript:void(0)">-->
    <!--                          <span class="extra-tooltip">Attach Document</span>-->
    <!--                          <i class="material-icons">attach_file</i>-->
    <!--                      </a>-->
    <!--                      <a href="javascript:void(0)">-->
    <!--                          <span class="extra-tooltip">Insert Photo</span>-->
    <!--                          <i class="material-icons">add_a_photo</i>-->
    <!--                      </a>-->
                          <a href="javascript:void(0)" class="change_chat_theme">
                              <span class="extra-tooltip">Change chat theme</span>
                              <i class="material-icons">refresh</i>
                          </a>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      <!-- END: help bot -->


      <!-- BEGIN: .site-wrap -->
      <div class="site-wrap">

        <!-- BEGIN: #site-header -->
        <!--
          Add class '.position-relative' to display it as stack.
          Add '.navbar-light' to make the text dark or black.
        -->
        <header id="site-header" class="position-relative">

          <!-- Add '.navbar_dark' class if you want the color of the text to -->
          <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container">

              <!-- BEGIN: .navbar-brand -->
              <a class="navbar-brand" href="/Diary/index/">
              <img src="/static/images/icons8-rh-plus-gradient-32.png" >Diatastic
              </a>
              <!-- END: .navbar-brand -->

              <!-- BEGIN: .navbar-toggler -->
              <a href="#" class="burger-toggle-menu js-burger-toggle-menu ml-auto py-4" data-toggle="collapse" data-target="#main-nav" aria-controls="main-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
              </a>
              <!-- END: .navbar-toggler -->

              <!-- BEGIN: #main-nav -->
              <div class="collapse navbar-collapse" id="main-nav">

                <ul class="navbar-nav ml-auto">
                  <li class="nav-item">
                    <a class="nav-link" href="/Diary/index/">Home</a>
                  </li>
<!--                  <li class="nav-item  ">-->
<!--                    <a class="nav-link" href="/guide/">Guide</a>-->
<!--                  </li>-->
                  <li class="nav-item active">
                    <a class="nav-link" href="/Diary/diary/">Diary</a>
                  </li>
    <!--              <li class="nav-item">-->
    <!--                <a class="nav-link" href="#">Symptoms</a>-->
    <!--              </li>-->
    <!--              <li class="nav-item">-->
    <!--                <a class="nav-link" href="#">Community</a>-->
    <!--              </li>-->
    <!--              <li class="nav-item ">-->
    <!--                <a class="nav-link" href="#">About</a>-->
    <!--              </li>-->
    <!--              <li class="nav-item">-->
    <!--                <a class="nav-link" href="#">Contact</a>-->
    <!--              </li>-->
                </ul>

              </div>
              <!-- END: #main-nav -->

            </div>
          </nav>
        </header>
        <!-- END: #site-header -->

        <!-- BEGIN: .cover -->
        <div class="page-heading-85912" style="background-image: url('images/hero_bg_3.jpg')">
          <div class="container">
            <div class="row align-items-end">
              <div class="col-lg-7">
                <h1 class="mb-0 heading text-white">Diary</h1>
                <p class="mb-0 text-white">Healthy living starts with your daily diet. </p>
              </div>
            </div>
          </div>
        </div>

        <div class="custom-breadcrumns-23195 border-bottom">
          <div class="container">
            <a href="/Diary/index/">Home</a>
            <span class="mx-3 icon-keyboard_arrow_right"></span>
            <span class="current">Diary</span>
          </div>
        </div>
        <span></span>
        <!-- BEGIN: diary form -->
    <!--    <div class="container">-->
    <!--    </code>-->
    <!--    </pre>-->
    <!--    <input type="text" id="DemoInput1">-->
    <!--        </code>-->
    <!--    </pre>-->
    <!--    </div>-->

    <!--	<script type="text/javascript">-->
    <!--	var TagsData=[]-->
    <!--	TagsData.push({id:1,name:"PHP",screen:"php"})-->
    <!--	TagsData.push({id:4,name:"C#",screen:"c"})-->
    <!--	TagsData.push({id:6,name:"JavaScript",screen:"javascript"})-->
    <!--	TagsData.push({id:2,name:"HTML5",screen:"html5"})-->
    <!--	TagsData.push({id:3,name:"Python",screen:"python"})-->
    <!--	TagsData.push({id:5,name:"数据库",screen:"sjk"})-->
    <!--	TagsData.push({id:7,name:"服务器",screen:"fwq"})-->
    <!--	TagsData.push({id:8,name:"PHP",screen:"php"})-->
    <!--	TagsData.push({id:9,name:"C#",screen:"c"})-->
    <!--	TagsData.push({id:10,name:"JavaScript",screen:"javascript"})-->
    <!--	TagsData.push({id:11,name:"HTML5",screen:"html5"})-->
    <!--	TagsData.push({id:12,name:"Python",screen:"python"})-->
    <!--	TagsData.push({id:13,name:"数据库",screen:"sjk"})-->
    <!--	TagsData.push({id:14,name:"服务器",screen:"fwq"})-->
    <!--	TagsData.push({id:15,name:"C#",screen:"c"})-->
    <!--	TagsData.push({id:16,name:"JavaScript",screen:"javascript"})-->
    <!--	TagsData.push({id:17,name:"HTML5",screen:"html5"})-->
    <!--	TagsData.push({id:18,name:"Python",screen:"python"})-->
    <!--	TagsData.push({id:19,name:"数据库",screen:"sjk"})-->
    <!--	TagsData.push({id:20,name:"服务器",screen:"fwq"})-->


    <!--	$("#DemoInput1").sTags({-->
    <!--		data:TagsData,-->
    <!--	})-->
    <!--    </script>-->


<form method="post"
      id = "DiaryForm"
      action = "/diary/"
      data-description-url="{% url 'ajax_load_description' %}"
      data-portion-url="{% url 'ajax_load_portion' %}"
      create_view="{% url 'create_view' %}">
    {% csrf_token %}


    <div class="container">
<!--    Date Time-->
        <div style="display: inline-block; width: 200px;">
            <label for="date">Date:</label>
                <input name="date" id="date" type="date" class="form-control" required="required"/>
          </div>


<!--      Time field.-->
          <div style="display: inline-block; width: 200px; margin:15px">
              <label for="time">Time: </label>
                    <input name="time" id="time" type="time" class="form-control" required="required"/>
          </div>
        <br/><br/>

<!--      Slider field.-->
          <div id="bsl_slider" class="form-class numeric-slider" style="display: inline">
              <label for="blood_sugar_level">Blood Sugar Level: </label>
<!--                Number input-->
                    <input name="blood_sugar_level" id="blood_sugar_level" type="number"
                           min = "1" max="30" step="0.1"
                           class="form-control" style="display: inline; width: 80px;"
                           required="required" value="{{blood_sugar_level}}"/>

<!--                Slider input-->
              <span class="font-weight-bold" style="margin-left: 10px">1</span>
                    <input name="blood_sugar_level_slider" id="blood_sugar_level_slider" type="range" min="1" max="30" step="0.1"
                           class="slider" style="display: inline; width: 150px;"
                           required="required"/>
              <span class="font-weight-bold">30</span>

          </div>
        <br/><br/>


<!--      Cart field-->
          <input class="form-control" id="DemoInput1" style='width:900px;height:150px;'/><br/><br/>


<!--      Menu options-->
          <div class="container">
              <!--      Category field-->
              <label for="category">Category:</label>
                  <select id="category" name="category" class="form-control" action="{% url 'ajax_load_description' %}" style="display: inline; width: 150px; margin-top: 2px;">
                      <option value="">Choose One</option>
                          {% for cat in category %}
                            <option value="{{cat.id}}">{{cat.name}}</option>
                          {% endfor %}
                  </select>


    <!--      Description field-->
              <label for="description">Desc:</label>
              <select id="description" name="description" class="form-control" action="{% url 'ajax_load_portion' %}" style="display: inline; width: 150px; margin:10px; margin-top: 2px;">
                  <option value="">Choose One</option>
                      {% for desc in description %}
                        <option value="{{desc.id}}">{{desc.name}}</option>
                      {% endfor %}
              </select>


    <!--      Portion field-->
              <label for="portion">Portion:</label>
              <select id="portion" name="portion" class="form-control" style="display: inline; width: 150px; margin:12px; margin-top: 2px;">
                  <option value="">Choose One</option>
                      {% for port in portion %}
                        <option value="{{port.id}}">{{port.name}}</option>w
                      {% endfor %}
              </select>

              <!--      Quantity field-->
              <label for="quantity">Quantity:</label>
              <input name="quantity" id="quantity" type="number" min="0" class="form-control" style="display: inline; width: 65px; margin:10px; margin-top: 2px;" required="required" value="{{ quantity }}"/>
              <button name="cart" id="cart" type="add" class="btn btn-primary cart" style="display: inline; width: 40px; margin:3px; margin-top: -5px">+</button>
        </div>
        <div>
            <button name="reset" id="reset" type="reset" class="btn btn-primary">Reset</button>
            <button name="submit" id="submit" type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>
</form>





        <!-- END: diary form -->


        <!-- BEGIN: #main -->

        <!-- END: #main -->

        <!-- BEGIN: #footer -->
    <!--    <footer id="footer">-->
    <!--      <div class="container">-->

    <!--        &lt;!&ndash; BEGIN: .footer-subscribe &ndash;&gt;-->
    <!--        <div class="row footer-subscribe">-->
    <!--          <div class="col-md-6">-->
    <!--            <h3 class="mt-2">Get our newsletter, join us.</h3>-->
    <!--          </div>-->
    <!--          <div class="col-md-6">-->
    <!--            <form action="#" id="mc-form" class="form-subscribe">-->
    <!--              <div class="d-flex align-items-stretch w-100">-->
    <!--                <input type="email" id="mc-email" placeholder="Email address" class="form-control">-->
    <!--                <input type="submit" value="GET INFO" class="btn btn-outline-white-reverse">-->
    <!--              </div>-->
    <!--              <div class="form-group">-->
    <!--                <label for="mc-email"></label>-->
    <!--              </div>-->
    <!--            </form>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--        &lt;!&ndash; END: .footer-subscribe &ndash;&gt;-->

    <!--        <div class="row">-->
    <!--          <div class="col-md-6 col-lg-3 mb-4 mb-md-0">-->
    <!--            &lt;!&ndash; BEGIN: .widget &ndash;&gt;-->
    <!--            <div class="widget">-->
    <!--              <h3>About</h3>-->
    <!--              <ul class="nav-link">-->
    <!--                <li><a href="#">Home</a></li>-->
    <!--                <li><a href="#">Situation</a></li>-->
    <!--                <li><a href="#">Prevention</a></li>-->
    <!--                <li><a href="#">Symptoms</a></li>-->
    <!--                <li><a href="#">Community</a></li>-->
    <!--              </ul>-->
    <!--            </div>-->
    <!--            &lt;!&ndash; END: .widget &ndash;&gt;-->
    <!--          </div>-->
    <!--          <div class="col-md-6 col-lg-3 mb-4 mb-md-0">-->
    <!--            &lt;!&ndash; BEGIN: .widget &ndash;&gt;-->
    <!--            <div class="widget">-->
    <!--              <h3>Helpful Links</h3>-->
    <!--              <ul class="nav-link">-->
    <!--                <li><a href="#">Reduce The Spread</a></li>-->
    <!--                <li><a href="#">Who Are At Risk</a></li>-->
    <!--                <li><a href="#">Social Distancing</a></li>-->
    <!--                <li><a href="#">Community Advice</a></li>-->
    <!--                <li><a href="#">Technical Guidance</a></li>-->
    <!--              </ul>-->
    <!--            </div>-->
    <!--            &lt;!&ndash; END: .widget &ndash;&gt;-->
    <!--          </div>-->
    <!--          <div class="col-md-6 col-lg-3 mb-4 mb-md-0">-->
    <!--            &lt;!&ndash; BEGIN: .widget &ndash;&gt;-->
    <!--            <div class="widget">-->
    <!--              <h3>Protect Yourself</h3>-->
    <!--              <ul class="nav-link">-->
    <!--                <li><a href="#">Wash Your Hands Often</a></li>-->
    <!--                <li><a href="#">Wear a Face Mask</a></li>-->
    <!--                <li><a href="#">Avoid Contact With Sick People</a></li>-->
    <!--                <li><a href="#">Always Cover Your Cough or Sneeze</a></li>-->
    <!--                <li><a href="#">Protect Your Family</a></li>-->
    <!--              </ul>-->
    <!--            </div>-->
    <!--            &lt;!&ndash; END: .widget &ndash;&gt;-->
    <!--          </div>-->
    <!--          <div class="col-md-6 col-lg-3 mb-4 mb-md-0">-->
    <!--            <div class="d-block">-->
    <!--              <ul class="list-unstyled d-flex social-29021">-->
    <!--                <li><a href="#"><span class="icon-facebook"></span></a></li>-->
    <!--                <li><a href="#"><span class="icon-twitter"></span></a></li>-->
    <!--                <li><a href="#"><span class="icon-instagram"></span></a></li>-->
    <!--                <li><a href="#"><span class="icon-linkedin"></span></a></li>-->
    <!--              </ul>-->
    <!--            </div>-->

    <!--            <div class="d-block mb-4">-->
    <!--              <a href="#" class="d-flex call align-items-center">-->
    <!--                <span class="lni lni-mobile wrap-icon"></span>-->
    <!--                <span class="number">329 4902 392</span>-->
    <!--              </a>-->
    <!--            </div>-->
    <!--            <div class="d-block">-->
    <!--              <p>If you have any question, please contact us at <a href="#" class="link-underline text-primary">info@diatastic.tk</a></p>-->
    <!--            </div>-->
    <!--          </div>-->
    <!--        </div>-->

    <!--        &lt;!&ndash; BEGIN: .copyright &ndash;&gt;-->
    <!--        <div class="row copyright">-->
    <!--          <div class="col-md-6 order-2 text-center text-md-right"><a href="#" class="js-top"><span class="icon-long-arrow-up mr-2"></span> Go to Top</a></div>-->
    <!--          <div class="col-md-6 text-center text-md-left">-->
    <!--            <p>&copy; 2022. All Rights Reserved. Design by <a href="#" target="_blank" class="link-underline text-primary">TP08</a></p>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--        &lt;!&ndash; END: .copyright &ndash;&gt;-->
    <!--      </div>-->
    <!--    </footer>-->
         <!--END: #footer -->

      </div>
      <!-- END: .site-wrap -->

      <!-- Loader -->
      <div id="site-overlayer"></div>
      <div class="site-loader-wrap">
        <div class="site-loader"></div>
      </div>
</body>
      <!-- BEGIN: JavaScripts -->
      <script src="/static/js/jquery-3.4.1.min.js"></script>
      <script src="/static/js/popper.min.js"></script>
      <script src="/static/js/bootstrap.min.js"></script>
      <script src="/static/js/jquery.waypoints.min.js"></script>
      <script src="/static/js/jquery.animateNumber.min.js"></script>
      <script src="/static/js/tiny-slider.js"></script>
      <script src="/static/js/jquery.fancybox.min.js"></script>
      <script src="/static/js/jquery.lavalamp.min.js"></script>
      <script src="/static/js/jquery.ajaxchimp.min.js"></script>
      <script src="/static/js/jquery.validate.min.js"></script>
      <script src="/static/js/jquery.easing.1.3.js"></script>
      <script src="/static/js/main.js"></script>

      <script src="/static/js/select.js"></script>

      <!--   Core JS Files   -->
    <!--  <script src="../static/assets/plugins/jquery/jquery-3.2.1.min.js" type="text/javascript"></script>-->
      <script src="/static/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
      <script src="/static/assets/plugins/backstretch/backstretch.js" type="text/javascript"></script>
      <script src="/static/assets/js/app.js"></script>


      <!-- END: JavaScripts -->

<!--Ajax query for description dropdown.-->
<script>
    var global_cat = 0;
    var global_desc = 0;
    var global_port = 0;
    var global_quantity = 0;
    $("#category").change(function () {
      var e = document.getElementById('category');
      var url = $("#DiaryForm").attr("data-description-url");
      var categoryId = $('#category').val();
      console.log($(this).val());
      global_cat = categoryId;
      $.ajax({
        url: url,
        data: {
          'category': global_cat
        },
        success: function (data) {
            $("#description").html(data);
        }

      });

    });
  </script>

<!--Ajax query for portion description dropdown.-->
<script>
    $("#description").change(function () {
      var e = document.getElementById('description');
      var url = $("#DiaryForm").attr("data-portion-url");  // get the url of the `load_cities` view
      var descriptionId = $('#description').val();  // get the selected country ID from the HTML input
      global_desc = descriptionId;
      console.log($(this).val());
      $.ajax({                       // initialize an AJAX request
        url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
        data: {
          'category': global_cat,
          'description': descriptionId
        },
        success: function (data) {   // `data` is the return of the `load_cities` view function
            $("#portion").html(data);  // replace the contents of the city input with the data that came from the server

        }
      });

    });
  </script>


<script>
    let range=document.querySelector("input[type=range]");
    let number=document.querySelector('input[type=number]')

    range.addEventListener("input",(e)=>{
      number.value=e.target.value;
    })
    number.addEventListener("input",(e)=>{
      range.value=e.target.value;
    })
    </script>

<script>
var cart_dict = new Array();
var csrfToken = document.getElementsByName('csrfmiddlewaretoken')[0].value;
$('#cart').click(function(e){
    e.preventDefault();

    var date = $('#date').val();
    if(date.trim() == ''){
        alert('Please check the date.');}
    else{

        var time = $('#time').val();
        if(time.trim() == ''){
            alert('Please check the time.');}
        else{

            var BSL = parseInt($('#blood_sugar_level').val());
            if(BSL != ''){
            if(BSL > 30 || BSL < 0){
                alert('Please check your Blood Sugar Levels.');}
                else{

                var categoryId = parseInt($('#category').val());
                if(!parseInt(categoryId) || categoryId == ''){
                    alert('Please check the category.');}
                else{

                    var descriptionId = parseInt($('#description').val());
                    if(!parseInt(descriptionId) || descriptionId == ''){
                        alert('Please check the description.');}
                    else{

                        var portionId = parseInt($('#portion').val());
                        if(!parseInt(portionId) || portionId == ''){
                            alert('Please check the portions.');}
                        else{

                            var Q = parseInt($('#quantity').val());
                            if(!parseInt(Q) || Q == ''){
                                alert('Please check the quantity.');}
                            else{

                                if(Q < 0){
                                    alert('Please check your quantity input.');}
                                    else{
                                    var dup = 0;
                                    if(cart_dict.length != 0){
                                        for(i = 0; i < cart_dict.length; i++){
                                            console.log((cart_dict[i]['categoryId'] == categoryId ) && (cart_dict[i]['descriptionId'] == descriptionId) && (cart_dict[i]['portionId'] == portionId));
                                            if((cart_dict[i]['categoryId'] == categoryId ) && (cart_dict[i]['descriptionId'] == descriptionId) && (cart_dict[i]['portionId'] == portionId)){
                                                dup = 1;
                                                console.log(dup);
                                                break;}
                                            }
                                        }
                                    if(dup == 1){
                                        cart_dict[i]['Q'] = cart_dict[i]['Q'] + Q;
                                                }
                                    else if(dup == 0){cart_dict.push({'date':date, 'time': time, 'BSL': BSL,
                                                                      'categoryId': categoryId, 'descriptionId': descriptionId, 'portionId': portionId,
                                                                      'Q': Q
                                                                      });
                                                }
}
}
console.log(cart_dict);
$('#category:input').val('Choose One');
$('#description:input').val('Choose One');
$('#portion:input').val('Choose One');
$('#Q').val(0);
}
}
}
}
}
}
}
});
</script>

<script>
var submit_dict = new Array();
var csrfToken = document.getElementsByName('csrfmiddlewaretoken')[0].value;
$('#submit').click(function(e){
    var date = $('#date').val();
    if(date.trim()!=''){

    var time = $('#time').val();
    if(time.trim()!=''){

    var BSL = parseInt($('#blood_sugar_level').val());
    if(BSL != ''){

    var categoryId = parseInt($('#category').val());
    if(categoryId != ''){

    var descriptionId = parseInt($('#description').val());
    if(descriptionId != ''){

    var portionId = parseInt($('#portion').val());
    if(portionId != ''){

    var Q = parseInt($('#quantity').val());
    if(Q != ''){
    {submit_dict.push({'date':date, 'time': time, 'BSL': BSL,
                       'categoryId': categoryId, 'descriptionId': descriptionId, 'portionId': portionId,
                       'Q': Q
                       });
    }
}
}
}
}
}
}
}
console.log(submit_dict);
});
</script>



<script>
var url = "{% url 'create_view' %}";
function SendCart(){
    var data = {cart_items: JSON.stringify(cart_dict), submit_items: JSON.stringify(submit_dict), csrfmiddlewaretoken: document.getElementsByName('csrfmiddlewaretoken')[0].value};
    var posting = $.post('/create_view/', data);
}
</script>

<script>
$(document).ready(function (){
    $('#submit').click(function(){
    SendCart();
    });
    });
</script>

